{"ast":null,"code":"var _jsxFileName = \"/storage/emulated/0/ASTRO/projects/react_2/src/components/Home/index.js\";\nimport Banner from './Banner';\nimport MainView from './MainView';\nimport React from 'react';\nimport Tags from './Tags';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED, APPLY_TAG_FILTER } from '../../constants/actionTypes';\nconst Promise = global.Promise;\n\nconst mapStateToProps = state => ({ ...state.home,\n  appName: state.common.appName,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickTag: (tag, pager, payload) => dispatch({\n    type: APPLY_TAG_FILTER,\n    tag,\n    pager,\n    payload\n  }),\n  onLoad: (tab, pager, payload) => dispatch({\n    type: HOME_PAGE_LOADED,\n    tab,\n    pager,\n    payload\n  }),\n  onUnload: () => dispatch({\n    type: HOME_PAGE_UNLOADED\n  })\n});\n\nclass Home extends React.Component {\n  componentWillMount() {\n    const tab = this.props.token ? 'feed' : 'all';\n    const articlesPromise = this.props.token ? agent.Articles.feed : agent.Articles.all;\n    this.props.onLoad(tab, articlesPromise, Promise.all([agent.Tags.getAll(), articlesPromise()]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Banner, {\n      token: this.props.token,\n      appName: this.props.appName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MainView, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Popular Tags\"), /*#__PURE__*/React.createElement(Tags, {\n      tags: this.props.tags,\n      onClickTag: this.props.onClickTag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/react_2/src/components/Home/index.js"],"names":["Banner","MainView","React","Tags","agent","connect","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","APPLY_TAG_FILTER","Promise","global","mapStateToProps","state","home","appName","common","token","mapDispatchToProps","dispatch","onClickTag","tag","pager","payload","type","onLoad","tab","onUnload","Home","Component","componentWillMount","props","articlesPromise","Articles","feed","all","getAll","componentWillUnmount","render","tags"],"mappings":"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","sourcesContent":["import Banner from './Banner';\nimport MainView from './MainView';\nimport React from 'react';\nimport Tags from './Tags';\nimport agent from '../../agent';\nimport { connect } from 'react-redux';\nimport {\n  HOME_PAGE_LOADED,\n  HOME_PAGE_UNLOADED,\n  APPLY_TAG_FILTER\n} from '../../constants/actionTypes';\n\nconst Promise = global.Promise;\n\nconst mapStateToProps = state => ({\n  ...state.home,\n  appName: state.common.appName,\n  token: state.common.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickTag: (tag, pager, payload) =>\n    dispatch({ type: APPLY_TAG_FILTER, tag, pager, payload }),\n  onLoad: (tab, pager, payload) =>\n    dispatch({ type: HOME_PAGE_LOADED, tab, pager, payload }),\n  onUnload: () =>\n    dispatch({  type: HOME_PAGE_UNLOADED })\n});\n\nclass Home extends React.Component {\n  componentWillMount() {\n    const tab = this.props.token ? 'feed' : 'all';\n    const articlesPromise = this.props.token ?\n      agent.Articles.feed :\n      agent.Articles.all;\n\n    this.props.onLoad(tab, articlesPromise, Promise.all([agent.Tags.getAll(), articlesPromise()]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    return (\n      <div className=\"home-page\">\n\n        <Banner token={this.props.token} appName={this.props.appName} />\n\n        <div className=\"container page\">\n          <div className=\"row\">\n            <MainView />\n\n            <div className=\"col-md-3\">\n              <div className=\"sidebar\">\n\n                <p>Popular Tags</p>\n\n                <Tags\n                  tags={this.props.tags}\n                  onClickTag={this.props.onClickTag} />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}