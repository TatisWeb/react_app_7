{"ast":null,"code":"var _jsxFileName = \"/storage/emulated/0/ASTRO/projects/react_2/src/components/Login.js\";\nimport { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { UPDATE_FIELD_AUTH, LOGIN, LOGIN_PAGE_UNLOADED } from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value => dispatch({\n    type: UPDATE_FIELD_AUTH,\n    key: 'email',\n    value\n  }),\n  onChangePassword: value => dispatch({\n    type: UPDATE_FIELD_AUTH,\n    key: 'password',\n    value\n  }),\n  onSubmit: (email, password) => dispatch({\n    type: LOGIN,\n    payload: agent.Auth.login(email, password)\n  }),\n  onUnload: () => dispatch({\n    type: LOGIN_PAGE_UNLOADED\n  })\n});\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n\n    this.submitForm = (email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-md-3 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-xs-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-xs-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, \"Need an account?\")), /*#__PURE__*/React.createElement(ListErrors, {\n      errors: this.props.errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitForm(email, password),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"email\",\n      placeholder: \"Email\",\n      value: email,\n      onChange: this.changeEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      onChange: this.changePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary pull-xs-right\",\n      type: \"submit\",\n      disabled: this.props.inProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, \"Sign in\")))))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/react_2/src/components/Login.js"],"names":["Link","ListErrors","React","agent","connect","UPDATE_FIELD_AUTH","LOGIN","LOGIN_PAGE_UNLOADED","mapStateToProps","state","auth","mapDispatchToProps","dispatch","onChangeEmail","value","type","key","onChangePassword","onSubmit","email","password","payload","Auth","login","onUnload","Login","Component","constructor","changeEmail","ev","props","target","changePassword","submitForm","preventDefault","componentWillUnmount","render","errors","inProgress"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  UPDATE_FIELD_AUTH,\n  LOGIN,\n  LOGIN_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth });\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\n  onChangePassword: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n  onSubmit: (email, password) =>\n    dispatch({ type: LOGIN, payload: agent.Auth.login(email, password) }),\n  onUnload: () =>\n    dispatch({ type: LOGIN_PAGE_UNLOADED })\n});\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n    this.submitForm = (email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign In</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/register\">\n                  Need an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(email, password)}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={email}\n                      onChange={this.changeEmail} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={password}\n                      onChange={this.changePassword} />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}>\n                    Sign in\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}