{"ast":null,"code":"var _jsxFileName = \"/storage/emulated/0/ASTRO/projects/react_2/src/components/Register.js\";\nimport { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport { UPDATE_FIELD_AUTH, REGISTER, REGISTER_PAGE_UNLOADED } from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value => dispatch({\n    type: UPDATE_FIELD_AUTH,\n    key: 'email',\n    value\n  }),\n  onChangePassword: value => dispatch({\n    type: UPDATE_FIELD_AUTH,\n    key: 'password',\n    value\n  }),\n  onChangeUsername: value => dispatch({\n    type: UPDATE_FIELD_AUTH,\n    key: 'username',\n    value\n  }),\n  onSubmit: (username, email, password) => {\n    const payload = agent.Auth.register(username, email, password);\n    dispatch({\n      type: REGISTER,\n      payload\n    });\n  },\n  onUnload: () => dispatch({\n    type: REGISTER_PAGE_UNLOADED\n  })\n});\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n\n    this.changeUsername = ev => this.props.onChangeUsername(ev.target.value);\n\n    this.submitForm = (username, email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(username, email, password);\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    const username = this.props.username;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-md-3 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-xs-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-xs-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Have an account?\")), /*#__PURE__*/React.createElement(ListErrors, {\n      errors: this.props.errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitForm(username, email, password),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"text\",\n      placeholder: \"Username\",\n      value: this.props.username,\n      onChange: this.changeUsername,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"email\",\n      placeholder: \"Email\",\n      value: this.props.email,\n      onChange: this.changeEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.props.password,\n      onChange: this.changePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary pull-xs-right\",\n      type: \"submit\",\n      disabled: this.props.inProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, \"Sign up\")))))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/react_2/src/components/Register.js"],"names":["Link","ListErrors","React","agent","connect","UPDATE_FIELD_AUTH","REGISTER","REGISTER_PAGE_UNLOADED","mapStateToProps","state","auth","mapDispatchToProps","dispatch","onChangeEmail","value","type","key","onChangePassword","onChangeUsername","onSubmit","username","email","password","payload","Auth","register","onUnload","Register","Component","constructor","changeEmail","ev","props","target","changePassword","changeUsername","submitForm","preventDefault","componentWillUnmount","render","errors","inProgress"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  UPDATE_FIELD_AUTH,\n  REGISTER,\n  REGISTER_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst mapStateToProps = state => ({ ...state.auth });\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeEmail: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\n  onChangePassword: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\n  onChangeUsername: value =>\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\n  onSubmit: (username, email, password) => {\n    const payload = agent.Auth.register(username, email, password);\n    dispatch({ type: REGISTER, payload })\n  },\n  onUnload: () =>\n    dispatch({ type: REGISTER_PAGE_UNLOADED })\n});\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\n    this.changeUsername = ev => this.props.onChangeUsername(ev.target.value);\n    this.submitForm = (username, email, password) => ev => {\n      ev.preventDefault();\n      this.props.onSubmit(username, email, password);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  render() {\n    const email = this.props.email;\n    const password = this.props.password;\n    const username = this.props.username;\n\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign Up</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"/login\">\n                  Have an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={this.props.errors} />\n\n              <form onSubmit={this.submitForm(username, email, password)}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      value={this.props.username}\n                      onChange={this.changeUsername} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={this.props.email}\n                      onChange={this.changeEmail} />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={this.props.password}\n                      onChange={this.changePassword} />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={this.props.inProgress}>\n                    Sign up\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n"]},"metadata":{},"sourceType":"module"}