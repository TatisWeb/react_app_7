{"ast":null,"code":"import _defineProperty from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{EDITOR_PAGE_LOADED,EDITOR_PAGE_UNLOADED,ARTICLE_SUBMITTED,ASYNC_START,ADD_TAG,REMOVE_TAG,UPDATE_FIELD_EDITOR}from'../constants/actionTypes';export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case EDITOR_PAGE_LOADED:return _objectSpread(_objectSpread({},state),{},{articleSlug:action.payload?action.payload.article.slug:'',title:action.payload?action.payload.article.title:'',description:action.payload?action.payload.article.description:'',body:action.payload?action.payload.article.body:'',tagInput:'',tagList:action.payload?action.payload.article.tagList:[]});case EDITOR_PAGE_UNLOADED:return{};case ARTICLE_SUBMITTED:return _objectSpread(_objectSpread({},state),{},{inProgress:null,errors:action.error?action.payload.errors:null});case ASYNC_START:if(action.subtype===ARTICLE_SUBMITTED){return _objectSpread(_objectSpread({},state),{},{inProgress:true});}break;case ADD_TAG:return _objectSpread(_objectSpread({},state),{},{tagList:state.tagList.concat([state.tagInput]),tagInput:''});case REMOVE_TAG:return _objectSpread(_objectSpread({},state),{},{tagList:state.tagList.filter(function(tag){return tag!==action.tag;})});case UPDATE_FIELD_EDITOR:return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.key,action.value));default:return state;}return state;});","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/react_2/src/reducers/editor.js"],"names":["EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ARTICLE_SUBMITTED","ASYNC_START","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_EDITOR","state","action","type","articleSlug","payload","article","slug","title","description","body","tagInput","tagList","inProgress","errors","error","subtype","concat","filter","tag","key","value"],"mappings":"iXAAA,OACEA,kBADF,CAEEC,oBAFF,CAGEC,iBAHF,CAIEC,WAJF,CAKEC,OALF,CAMEC,UANF,CAOEC,mBAPF,KAQO,0BARP,CAUA,eAAe,UAAwB,IAAvBC,CAAAA,KAAuB,2DAAf,EAAe,IAAXC,CAAAA,MAAW,2CACrC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKT,CAAAA,kBAAL,CACE,sCACKO,KADL,MAEEG,WAAW,CAAEF,MAAM,CAACG,OAAP,CAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBC,IAAxC,CAA+C,EAF9D,CAGEC,KAAK,CAAEN,MAAM,CAACG,OAAP,CAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBE,KAAxC,CAAgD,EAHzD,CAIEC,WAAW,CAAEP,MAAM,CAACG,OAAP,CAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBG,WAAxC,CAAsD,EAJrE,CAKEC,IAAI,CAAER,MAAM,CAACG,OAAP,CAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBI,IAAxC,CAA+C,EALvD,CAMEC,QAAQ,CAAE,EANZ,CAOEC,OAAO,CAAEV,MAAM,CAACG,OAAP,CAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBM,OAAxC,CAAkD,EAP7D,GASF,IAAKjB,CAAAA,oBAAL,CACE,MAAO,EAAP,CACF,IAAKC,CAAAA,iBAAL,CACE,sCACKK,KADL,MAEEY,UAAU,CAAE,IAFd,CAGEC,MAAM,CAAEZ,MAAM,CAACa,KAAP,CAAeb,MAAM,CAACG,OAAP,CAAeS,MAA9B,CAAuC,IAHjD,GAKF,IAAKjB,CAAAA,WAAL,CACE,GAAIK,MAAM,CAACc,OAAP,GAAmBpB,iBAAvB,CAA0C,CACxC,sCAAYK,KAAZ,MAAmBY,UAAU,CAAE,IAA/B,GACD,CACD,MACF,IAAKf,CAAAA,OAAL,CACE,sCACKG,KADL,MAEEW,OAAO,CAAEX,KAAK,CAACW,OAAN,CAAcK,MAAd,CAAqB,CAAChB,KAAK,CAACU,QAAP,CAArB,CAFX,CAGEA,QAAQ,CAAE,EAHZ,GAKF,IAAKZ,CAAAA,UAAL,CACE,sCACKE,KADL,MAEEW,OAAO,CAAEX,KAAK,CAACW,OAAN,CAAcM,MAAd,CAAqB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,GAAKjB,MAAM,CAACiB,GAAnB,EAAxB,CAFX,GAIF,IAAKnB,CAAAA,mBAAL,CACE,sCAAYC,KAAZ,wBAAoBC,MAAM,CAACkB,GAA3B,CAAiClB,MAAM,CAACmB,KAAxC,GACF,QACE,MAAOpB,CAAAA,KAAP,CAtCJ,CAyCA,MAAOA,CAAAA,KAAP,CACD,CA3CD","sourcesContent":["import {\n  EDITOR_PAGE_LOADED,\n  EDITOR_PAGE_UNLOADED,\n  ARTICLE_SUBMITTED,\n  ASYNC_START,\n  ADD_TAG,\n  REMOVE_TAG,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case EDITOR_PAGE_LOADED:\n      return {\n        ...state,\n        articleSlug: action.payload ? action.payload.article.slug : '',\n        title: action.payload ? action.payload.article.title : '',\n        description: action.payload ? action.payload.article.description : '',\n        body: action.payload ? action.payload.article.body : '',\n        tagInput: '',\n        tagList: action.payload ? action.payload.article.tagList : []\n      };\n    case EDITOR_PAGE_UNLOADED:\n      return {};\n    case ARTICLE_SUBMITTED:\n      return {\n        ...state,\n        inProgress: null,\n        errors: action.error ? action.payload.errors : null\n      };\n    case ASYNC_START:\n      if (action.subtype === ARTICLE_SUBMITTED) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case ADD_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.concat([state.tagInput]),\n        tagInput: ''\n      };\n    case REMOVE_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.filter(tag => tag !== action.tag)\n      };\n    case UPDATE_FIELD_EDITOR:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n"]},"metadata":{},"sourceType":"module"}