{"ast":null,"code":"import _objectSpread from\"/data/data/com.astrosohu/files/usr/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ARTICLE_PAGE_LOADED,ARTICLE_PAGE_UNLOADED,ADD_COMMENT,DELETE_COMMENT}from'../constants/actionTypes';export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ARTICLE_PAGE_LOADED:return _objectSpread(_objectSpread({},state),{},{article:action.payload[0].article,comments:action.payload[1].comments});case ARTICLE_PAGE_UNLOADED:return{};case ADD_COMMENT:return _objectSpread(_objectSpread({},state),{},{commentErrors:action.error?action.payload.errors:null,comments:action.error?null:(state.comments||[]).concat([action.payload.comment])});case DELETE_COMMENT:var commentId=action.commentId;return _objectSpread(_objectSpread({},state),{},{comments:state.comments.filter(function(comment){return comment.id!==commentId;})});default:return state;}});","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/react_2/src/reducers/article.js"],"names":["ARTICLE_PAGE_LOADED","ARTICLE_PAGE_UNLOADED","ADD_COMMENT","DELETE_COMMENT","state","action","type","article","payload","comments","commentErrors","error","errors","concat","comment","commentId","filter","id"],"mappings":"uLAAA,OACEA,mBADF,CAEEC,qBAFF,CAGEC,WAHF,CAIEC,cAJF,KAKO,0BALP,CAOA,eAAe,UAAwB,IAAvBC,CAAAA,KAAuB,2DAAf,EAAe,IAAXC,CAAAA,MAAW,2CACrC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKN,CAAAA,mBAAL,CACE,sCACKI,KADL,MAEEG,OAAO,CAAEF,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBD,OAF7B,CAGEE,QAAQ,CAAEJ,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBC,QAH9B,GAKF,IAAKR,CAAAA,qBAAL,CACE,MAAO,EAAP,CACF,IAAKC,CAAAA,WAAL,CACE,sCACKE,KADL,MAEEM,aAAa,CAAEL,MAAM,CAACM,KAAP,CAAeN,MAAM,CAACG,OAAP,CAAeI,MAA9B,CAAuC,IAFxD,CAGEH,QAAQ,CAAEJ,MAAM,CAACM,KAAP,CACR,IADQ,CAER,CAACP,KAAK,CAACK,QAAN,EAAkB,EAAnB,EAAuBI,MAAvB,CAA8B,CAACR,MAAM,CAACG,OAAP,CAAeM,OAAhB,CAA9B,CALJ,GAOF,IAAKX,CAAAA,cAAL,CACE,GAAMY,CAAAA,SAAS,CAAGV,MAAM,CAACU,SAAzB,CACA,sCACKX,KADL,MAEEK,QAAQ,CAAEL,KAAK,CAACK,QAAN,CAAeO,MAAf,CAAsB,SAAAF,OAAO,QAAIA,CAAAA,OAAO,CAACG,EAAR,GAAeF,SAAnB,EAA7B,CAFZ,GAIF,QACE,MAAOX,CAAAA,KAAP,CAxBJ,CA0BD,CA3BD","sourcesContent":["import {\n  ARTICLE_PAGE_LOADED,\n  ARTICLE_PAGE_UNLOADED,\n  ADD_COMMENT,\n  DELETE_COMMENT\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ARTICLE_PAGE_LOADED:\n      return {\n        ...state,\n        article: action.payload[0].article,\n        comments: action.payload[1].comments\n      };\n    case ARTICLE_PAGE_UNLOADED:\n      return {};\n    case ADD_COMMENT:\n      return {\n        ...state,\n        commentErrors: action.error ? action.payload.errors : null,\n        comments: action.error ?\n          null :\n          (state.comments || []).concat([action.payload.comment])\n      };\n    case DELETE_COMMENT:\n      const commentId = action.commentId\n      return {\n        ...state,\n        comments: state.comments.filter(comment => comment.id !== commentId)\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}