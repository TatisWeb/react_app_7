{"ast":null,"code":"import { EDITOR_PAGE_LOADED, EDITOR_PAGE_UNLOADED, ARTICLE_SUBMITTED, ASYNC_START, ADD_TAG, REMOVE_TAG, UPDATE_FIELD_EDITOR } from '../constants/actionTypes';\nexport default ((state = {}, action) => {\n  switch (action.type) {\n    case EDITOR_PAGE_LOADED:\n      return { ...state,\n        articleSlug: action.payload ? action.payload.article.slug : '',\n        title: action.payload ? action.payload.article.title : '',\n        description: action.payload ? action.payload.article.description : '',\n        body: action.payload ? action.payload.article.body : '',\n        tagInput: '',\n        tagList: action.payload ? action.payload.article.tagList : []\n      };\n\n    case EDITOR_PAGE_UNLOADED:\n      return {};\n\n    case ARTICLE_SUBMITTED:\n      return { ...state,\n        inProgress: null,\n        errors: action.error ? action.payload.errors : null\n      };\n\n    case ASYNC_START:\n      if (action.subtype === ARTICLE_SUBMITTED) {\n        return { ...state,\n          inProgress: true\n        };\n      }\n\n      break;\n\n    case ADD_TAG:\n      return { ...state,\n        tagList: state.tagList.concat([state.tagInput]),\n        tagInput: ''\n      };\n\n    case REMOVE_TAG:\n      return { ...state,\n        tagList: state.tagList.filter(tag => tag !== action.tag)\n      };\n\n    case UPDATE_FIELD_EDITOR:\n      return { ...state,\n        [action.key]: action.value\n      };\n\n    default:\n      return state;\n  }\n\n  return state;\n});","map":{"version":3,"sources":["/storage/emulated/0/ASTRO/projects/react_2/src/reducers/editor.js"],"names":["EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ARTICLE_SUBMITTED","ASYNC_START","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_EDITOR","state","action","type","articleSlug","payload","article","slug","title","description","body","tagInput","tagList","inProgress","errors","error","subtype","concat","filter","tag","key","value"],"mappings":"AAAA,SACEA,kBADF,EAEEC,oBAFF,EAGEC,iBAHF,EAIEC,WAJF,EAKEC,OALF,EAMEC,UANF,EAOEC,mBAPF,QAQO,0BARP;AAUA,gBAAe,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKT,kBAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELG,QAAAA,WAAW,EAAEF,MAAM,CAACG,OAAP,GAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBC,IAAxC,GAA+C,EAFvD;AAGLC,QAAAA,KAAK,EAAEN,MAAM,CAACG,OAAP,GAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBE,KAAxC,GAAgD,EAHlD;AAILC,QAAAA,WAAW,EAAEP,MAAM,CAACG,OAAP,GAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBG,WAAxC,GAAsD,EAJ9D;AAKLC,QAAAA,IAAI,EAAER,MAAM,CAACG,OAAP,GAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBI,IAAxC,GAA+C,EALhD;AAMLC,QAAAA,QAAQ,EAAE,EANL;AAOLC,QAAAA,OAAO,EAAEV,MAAM,CAACG,OAAP,GAAiBH,MAAM,CAACG,OAAP,CAAeC,OAAf,CAAuBM,OAAxC,GAAkD;AAPtD,OAAP;;AASF,SAAKjB,oBAAL;AACE,aAAO,EAAP;;AACF,SAAKC,iBAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELY,QAAAA,UAAU,EAAE,IAFP;AAGLC,QAAAA,MAAM,EAAEZ,MAAM,CAACa,KAAP,GAAeb,MAAM,CAACG,OAAP,CAAeS,MAA9B,GAAuC;AAH1C,OAAP;;AAKF,SAAKjB,WAAL;AACE,UAAIK,MAAM,CAACc,OAAP,KAAmBpB,iBAAvB,EAA0C;AACxC,eAAO,EAAE,GAAGK,KAAL;AAAYY,UAAAA,UAAU,EAAE;AAAxB,SAAP;AACD;;AACD;;AACF,SAAKf,OAAL;AACE,aAAO,EACL,GAAGG,KADE;AAELW,QAAAA,OAAO,EAAEX,KAAK,CAACW,OAAN,CAAcK,MAAd,CAAqB,CAAChB,KAAK,CAACU,QAAP,CAArB,CAFJ;AAGLA,QAAAA,QAAQ,EAAE;AAHL,OAAP;;AAKF,SAAKZ,UAAL;AACE,aAAO,EACL,GAAGE,KADE;AAELW,QAAAA,OAAO,EAAEX,KAAK,CAACW,OAAN,CAAcM,MAAd,CAAqBC,GAAG,IAAIA,GAAG,KAAKjB,MAAM,CAACiB,GAA3C;AAFJ,OAAP;;AAIF,SAAKnB,mBAAL;AACE,aAAO,EAAE,GAAGC,KAAL;AAAY,SAACC,MAAM,CAACkB,GAAR,GAAclB,MAAM,CAACmB;AAAjC,OAAP;;AACF;AACE,aAAOpB,KAAP;AAtCJ;;AAyCA,SAAOA,KAAP;AACD,CA3CD","sourcesContent":["import {\n  EDITOR_PAGE_LOADED,\n  EDITOR_PAGE_UNLOADED,\n  ARTICLE_SUBMITTED,\n  ASYNC_START,\n  ADD_TAG,\n  REMOVE_TAG,\n  UPDATE_FIELD_EDITOR\n} from '../constants/actionTypes';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case EDITOR_PAGE_LOADED:\n      return {\n        ...state,\n        articleSlug: action.payload ? action.payload.article.slug : '',\n        title: action.payload ? action.payload.article.title : '',\n        description: action.payload ? action.payload.article.description : '',\n        body: action.payload ? action.payload.article.body : '',\n        tagInput: '',\n        tagList: action.payload ? action.payload.article.tagList : []\n      };\n    case EDITOR_PAGE_UNLOADED:\n      return {};\n    case ARTICLE_SUBMITTED:\n      return {\n        ...state,\n        inProgress: null,\n        errors: action.error ? action.payload.errors : null\n      };\n    case ASYNC_START:\n      if (action.subtype === ARTICLE_SUBMITTED) {\n        return { ...state, inProgress: true };\n      }\n      break;\n    case ADD_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.concat([state.tagInput]),\n        tagInput: ''\n      };\n    case REMOVE_TAG:\n      return {\n        ...state,\n        tagList: state.tagList.filter(tag => tag !== action.tag)\n      };\n    case UPDATE_FIELD_EDITOR:\n      return { ...state, [action.key]: action.value };\n    default:\n      return state;\n  }\n\n  return state;\n};\n"]},"metadata":{},"sourceType":"module"}