{"version":3,"sources":["webpack://ReduxRequests/webpack/universalModuleDefinition","webpack://ReduxRequests/../node_modules/@babel/runtime/helpers/extends.js","webpack://ReduxRequests/./src/constants.js","webpack://ReduxRequests/./src/actions.js","webpack://ReduxRequests/./src/default-config.js","webpack://ReduxRequests/./src/normalizers/get-dependent-keys.js","webpack://ReduxRequests/./src/normalizers/denormalize.js","webpack://ReduxRequests/./src/selectors/get-query.js","webpack://ReduxRequests/./src/normalizers/merge-data.js","webpack://ReduxRequests/./src/normalizers/normalize.js","webpack://ReduxRequests/./src/reducers/update-data.js","webpack://ReduxRequests/./src/reducers/queries-reducer.js","webpack://ReduxRequests/./src/reducers/cache-reducer.js","webpack://ReduxRequests/./src/reducers/requests-reset-reducer.js","webpack://ReduxRequests/./src/reducers/ssr-reducer.js","webpack://ReduxRequests/./src/reducers/requests-reducer.js","webpack://ReduxRequests/./src/reducers/mutations-reducer.js","webpack://ReduxRequests/./src/reducers/requests-keys-reducer.js","webpack://ReduxRequests/./src/reducers/progress-reducer.js","webpack://ReduxRequests/./src/middleware/create-server-ssr-middleware.js","webpack://ReduxRequests/./src/middleware/create-client-ssr-middleware.js","webpack://ReduxRequests/./src/middleware/create-requests-cache-middleware.js","webpack://ReduxRequests/./src/middleware/create-requests-store.js","webpack://ReduxRequests/./src/middleware/create-send-requests-middleware.js","webpack://ReduxRequests/./src/handle-requests.js","webpack://ReduxRequests/./src/selectors/get-mutation.js","webpack://ReduxRequests/./src/selectors/get-query-selector.js","webpack://ReduxRequests/./src/selectors/get-mutation-selector.js","webpack://ReduxRequests/../node_modules/deepmerge/dist/cjs.js","webpack://ReduxRequests/external {\"commonjs\":\"reselect\",\"commonjs2\":\"reselect\",\"amd\":\"reselect\",\"root\":\"Reselect\"}","webpack://ReduxRequests/webpack/bootstrap","webpack://ReduxRequests/webpack/startup","webpack://ReduxRequests/webpack/runtime/compat get default export","webpack://ReduxRequests/webpack/runtime/define property getters","webpack://ReduxRequests/webpack/runtime/hasOwnProperty shorthand","webpack://ReduxRequests/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__573__","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SUCCESS_SUFFIX","ERROR_SUFFIX","CLEAR_REQUESTS_CACHE","RESET_REQUESTS","ABORT_REQUESTS","SET_DOWNLOAD_PROGRESS","SET_UPLOAD_PROGRESS","getActionWithSuffix","suffix","actionType","success","error","abort","isFSA","action","payload","createErrorAction","errorData","type","meta","requestAction","getActionPayload","undefined","isRequestAction","actionPayload","request","Array","isArray","url","query","promise","response","Error","isResponseAction","getRequestActionFromResponse","isSuccessAction","endsWith","isErrorAction","isRequestQuery","method","toLowerCase","trim","startsWith","isRequestActionQuery","asMutation","every","clearRequestsCache","requests","resetRequests","abortPending","abortRequests","driver","onRequest","onSuccess","onError","onAbort","cache","ssr","takeLatest","normalize","getNormalisationObjectKey","obj","id","shouldObjectBeNormalized","getDependentKeys","data","normalizedData","usedKeys","dependentKeys","path","Set","add","forEach","v","entries","filter","k","includes","denormalize","map","reduce","prev","createCustomSelector","createSelectorCreator","defaultMemoize","currentVal","previousVal","pending","pristine","downloadProgress","uploadProgress","multiple","defaultData","normalized","currentDependencies","previousDependencies","size","has","getData","getQueryState","state","requestKey","queries","defaultQuery","loading","defaultQueryMultiple","defaultQueriesWithCustomData","Map","querySelectors","WeakMap","queryState","get","ref","set","createQuerySelector","getDefaultQuery","mergeOptions","arrayMerge","destinationArray","sourceArray","clone","mergeData","oldData","newData","deepmerge","stipFromDeps","config","getDependencies","defaultConfig","current","keys","dependencies","getDataUpdater","mutationConfig","updateData","getDataFromResponseAction","shouldBeNormalized","queryReducer","mutations","dataUpdater","revertData","updateDataOptimistic","local","getQuery","ssrResponse","cacheResponse","ssrError","getRequestTypeString","requestType","toString","getRequestKey","timeout","Date","now","cacheKey","indexToRemove","findIndex","_","defaultState","requestsKeys","optimisticData","newNormalizedData","revertedData","localData","updateNormalizedData","updatedQuery","newdata","queryActionType","maybeGetQueryActionType","queryType","queriesReducer","mutationType","mutationsReducer","requestsCapacity","isQuery","requestsStorage","numberOfExceedingRequests","exceedingRequestsKeys","slice","exceededRequest","copiedStorage","copiedCache","requestKeysReducer","clearAll","mutation","requestsResetReducer","cacheReducer","progress","measureDownloadProgress","measureUploadProgress","progressReducer","ssrReducer","requestsPromise","index","successActions","errorActions","next","dependentRequestsNumber","push","isDependentRequest","reject","resolve","store","getState","getKey","cacheValue","isCacheValid","dispatchRequest","dispatch","isActionRehydrated","pendingRequests","requestsStore","createRequestsStore","r","cancel","values","abortPendingRequests","responsePromises","isBatchedRequest","Promise","driverActions","setDownloadProgress","setUploadProgress","getDriverActions","getDriver","lastActionKey","getLastActionKey","isTakeLatest","getResponsePromises","silent","maybeDispatchRequestAction","maybeCallOnRequestMeta","runOnRequest","maybeCallOnRequestInterceptor","all","getError","maybeCallGetError","runOnError","maybeCallOnErrorInterceptor","maybeCallOnErrorMeta","runOnAbort","maybeCallOnAbortInterceptor","maybeCallOnAbortMeta","abortAction","createAbortAction","isAborted","errorAction","then","responseKeys","getInitialBatchObject","maybeTransformBatchRequestResponse","maybeCallGetData","runOnSuccess","result","maybeCallOnSuccessInterceptor","maybeCallOnSuccessMeta","successAction","createSuccessAction","userConfig","res","rej","requestsReducer","requestsMiddleware","createServerSsrMiddleware","createClientSsrMiddleware","createRequestsCacheMiddleware","createSendRequestsMiddleware","Boolean","defaultMutation","getMutationState","mutationSelectors","mutationState","createSelector","createMutationSelector","props","getMutation","isMergeableObject","value","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","options","val","defaultArrayMerge","concat","element","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","object","property","sourceIsArray","destination","propertyIsUnsafe","customMerge","getMergeFunction","mergeObject","array","deepmerge_1","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","prop","toStringTag"],"mappings":"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","file":"redux-requests.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"reselect\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"reselect\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxRequests\"] = factory(require(\"reselect\"));\n\telse\n\t\troot[\"ReduxRequests\"] = factory(root[\"Reselect\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__573__) {\nreturn ","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","export const SUCCESS_SUFFIX = '_SUCCESS';\nexport const ERROR_SUFFIX = '_ERROR';\nexport const ABORT_SUFFIX = '_ABORT';\nexport const CLEAR_REQUESTS_CACHE = 'CLEAR_REQUESTS_CACHE';\nexport const RESET_REQUESTS = 'RESET_REQUESTS';\nexport const ABORT_REQUESTS = 'ABORT_REQUESTS';\nexport const SET_DOWNLOAD_PROGRESS = 'SET_DOWNLOAD_PROGRESS';\nexport const SET_UPLOAD_PROGRESS = 'SET_UPLOAD_PROGRESS';\n","import {\n  SUCCESS_SUFFIX,\n  ERROR_SUFFIX,\n  ABORT_SUFFIX,\n  CLEAR_REQUESTS_CACHE,\n  RESET_REQUESTS,\n  ABORT_REQUESTS,\n  SET_DOWNLOAD_PROGRESS,\n  SET_UPLOAD_PROGRESS,\n} from './constants';\n\nconst getActionWithSuffix = suffix => actionType => actionType + suffix;\n\nexport const success = getActionWithSuffix(SUCCESS_SUFFIX);\n\nexport const error = getActionWithSuffix(ERROR_SUFFIX);\n\nexport const abort = getActionWithSuffix(ABORT_SUFFIX);\n\nconst isFSA = action => !!action.payload;\n\nexport const createSuccessAction = (action, response) => ({\n  type: success(action.type),\n  ...(isFSA(action) ? { payload: response } : { response }),\n  meta: {\n    ...action.meta,\n    requestAction: action,\n  },\n});\n\nexport const createErrorAction = (action, errorData) => ({\n  type: error(action.type),\n  ...(isFSA(action)\n    ? {\n        payload: errorData,\n        error: true,\n      }\n    : {\n        error: errorData,\n      }),\n  meta: {\n    ...action.meta,\n    requestAction: action,\n  },\n});\n\nexport const createAbortAction = action => ({\n  type: abort(action.type),\n  meta: {\n    ...action.meta,\n    requestAction: action,\n  },\n});\n\nexport const getActionPayload = action =>\n  action.payload === undefined ? action : action.payload;\n\n// eslint-disable-next-line import/no-unused-modules\nexport const getResponseFromSuccessAction = action =>\n  action.payload ? action.payload : action.response;\n\nexport const isRequestAction = action => {\n  const actionPayload = getActionPayload(action);\n\n  return (\n    !!actionPayload?.request &&\n    !!(\n      Array.isArray(actionPayload.request) ||\n      actionPayload.request.url ||\n      actionPayload.request.query ||\n      actionPayload.request.promise ||\n      actionPayload.request.response ||\n      actionPayload.request.error\n    ) &&\n    !actionPayload.response &&\n    !(actionPayload instanceof Error)\n  );\n};\n\nexport const isResponseAction = action => !!action.meta?.requestAction;\n\nexport const getRequestActionFromResponse = action => action.meta.requestAction;\n\nexport const isSuccessAction = action =>\n  isResponseAction(action) && action.type.endsWith(SUCCESS_SUFFIX);\n\nexport const isErrorAction = action =>\n  isResponseAction(action) && action.type.endsWith(ERROR_SUFFIX);\n\nexport const isAbortAction = action =>\n  isResponseAction(action) && action.type.endsWith(ABORT_SUFFIX);\n\nconst isRequestQuery = request =>\n  (!request.query &&\n    (!request.method || request.method.toLowerCase() === 'get')) ||\n  (request.query && !request.query.trim().startsWith('mutation'));\n\nexport const isRequestActionQuery = action => {\n  const { request } = getActionPayload(action);\n\n  if (action.meta?.asMutation !== undefined) {\n    return !action.meta.asMutation;\n  }\n\n  return !!(Array.isArray(request)\n    ? request.every(isRequestQuery)\n    : isRequestQuery(request));\n};\n\nexport const clearRequestsCache = (requests = null) => ({\n  type: CLEAR_REQUESTS_CACHE,\n  requests,\n});\n\nexport const resetRequests = (requests = null, abortPending = true) => ({\n  type: RESET_REQUESTS,\n  requests,\n  abortPending,\n});\n\nexport const abortRequests = (requests = null) => ({\n  type: ABORT_REQUESTS,\n  requests,\n});\n\nexport const setDownloadProgress = (requestType, progress) => ({\n  type: SET_DOWNLOAD_PROGRESS,\n  requestType,\n  progress,\n});\n\nexport const setUploadProgress = (requestType, progress) => ({\n  type: SET_UPLOAD_PROGRESS,\n  requestType,\n  progress,\n});\n","import { isRequestActionQuery, isRequestAction } from './actions';\n\nexport default {\n  driver: null,\n  onRequest: null,\n  onSuccess: null,\n  onError: null,\n  onAbort: null,\n  cache: false,\n  ssr: null,\n  isRequestAction,\n  isRequestActionQuery,\n  takeLatest: isRequestActionQuery,\n  normalize: false,\n  getNormalisationObjectKey: obj => obj.id,\n  shouldObjectBeNormalized: obj => obj.id !== undefined,\n};\n","export const getDependentKeys = (\n  data,\n  normalizedData,\n  usedKeys,\n  dependentKeys,\n  path = '',\n) => {\n  if (!dependentKeys) {\n    dependentKeys = new Set();\n  }\n\n  if (typeof data === 'string' && data.startsWith('@@')) {\n    dependentKeys.add(data);\n    getDependentKeys(\n      normalizedData[data],\n      normalizedData,\n      usedKeys,\n      dependentKeys,\n      path,\n    );\n  } else if (Array.isArray(data)) {\n    data.forEach(v =>\n      getDependentKeys(v, normalizedData, usedKeys, dependentKeys, path),\n    );\n  } else if (data !== null && typeof data === 'object') {\n    const objectEntries = usedKeys[path]\n      ? Object.entries(data).filter(([k]) => usedKeys[path].includes(k))\n      : Object.entries(data);\n\n    objectEntries.forEach(([k, v]) => {\n      getDependentKeys(\n        v,\n        normalizedData,\n        usedKeys,\n        dependentKeys,\n        `${path}.${k}`,\n      );\n    });\n  }\n\n  return dependentKeys;\n};\n","export const denormalize = (data, normalizedData, usedKeys, path = '') => {\n  if (typeof data === 'string' && data.startsWith('@@')) {\n    return denormalize(normalizedData[data], normalizedData, usedKeys, path);\n  }\n\n  if (Array.isArray(data)) {\n    return data.map(v => denormalize(v, normalizedData, usedKeys, path));\n  }\n\n  if (data !== null && typeof data === 'object') {\n    const objectEntries = usedKeys[path]\n      ? Object.entries(data).filter(([k]) => usedKeys[path].includes(k))\n      : Object.entries(data);\n\n    return objectEntries.reduce((prev, [k, v]) => {\n      prev[k] = denormalize(v, normalizedData, usedKeys, `${path}.${k}`);\n      return prev;\n    }, {});\n  }\n\n  return data;\n};\n","import { createSelectorCreator, defaultMemoize } from 'reselect';\n\nimport { denormalize, getDependentKeys } from '../normalizers';\n\nconst isQueryEqual = (currentVal, previousVal) => {\n  if (\n    currentVal.data !== previousVal.data ||\n    currentVal.pending !== previousVal.pending ||\n    currentVal.error !== previousVal.error ||\n    currentVal.pristine !== previousVal.pristine ||\n    currentVal.downloadProgress !== previousVal.downloadProgress ||\n    currentVal.uploadProgress !== previousVal.uploadProgress\n  ) {\n    return false;\n  }\n\n  if (\n    currentVal.data === null &&\n    (currentVal.multiple !== previousVal.multiple ||\n      currentVal.defaultData !== previousVal.defaultData)\n  ) {\n    return false;\n  }\n\n  if (\n    currentVal.normalized &&\n    currentVal.normalizedData !== previousVal.normalizedData\n  ) {\n    const currentDependencies = getDependentKeys(\n      currentVal.data,\n      currentVal.normalizedData,\n      currentVal.usedKeys,\n    );\n    const previousDependencies = getDependentKeys(\n      previousVal.data,\n      previousVal.normalizedData,\n      previousVal.usedKeys,\n    );\n\n    if (currentDependencies.size !== previousDependencies.size) {\n      return false;\n    }\n\n    for (const k of currentDependencies) {\n      if (\n        !previousDependencies.has(k) ||\n        currentVal.normalizedData[k] !== previousVal.normalizedData[k]\n      ) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\nconst createCustomSelector = createSelectorCreator(\n  defaultMemoize,\n  isQueryEqual,\n);\n\nconst getData = (data, multiple, defaultData) => {\n  if (data !== null) {\n    return data;\n  }\n\n  if (defaultData !== undefined) {\n    return defaultData;\n  }\n\n  if (multiple) {\n    return [];\n  }\n\n  return data;\n};\n\nconst getQueryState = (state, type, requestKey = '') =>\n  state.requests.queries[type + requestKey];\n\nconst createQuerySelector = (type, requestKey) =>\n  createCustomSelector(\n    (state, defaultData, multiple) => {\n      // in order not to keep queryState.ref reference in selector memoize\n      const {\n        data,\n        pending,\n        error,\n        pristine,\n        normalized,\n        usedKeys,\n      } = getQueryState(state, type, requestKey);\n\n      return {\n        data,\n        pending,\n        error,\n        pristine,\n        normalized,\n        usedKeys,\n        multiple,\n        defaultData,\n        normalizedData: state.requests.normalizedData,\n        downloadProgress:\n          state.requests.downloadProgress[type + (requestKey || '')] ?? null,\n        uploadProgress:\n          state.requests.uploadProgress[type + (requestKey || '')] ?? null,\n      };\n    },\n    ({\n      data,\n      pending,\n      error,\n      pristine,\n      usedKeys,\n      normalized,\n      normalizedData,\n      defaultData,\n      multiple,\n      downloadProgress,\n      uploadProgress,\n    }) => ({\n      data: normalized\n        ? denormalize(\n            getData(data, multiple, defaultData),\n            normalizedData,\n            usedKeys,\n          )\n        : getData(data, multiple, defaultData),\n      loading: pending > 0,\n      error,\n      pristine,\n      downloadProgress,\n      uploadProgress,\n    }),\n  );\n\nconst defaultQuery = {\n  data: null,\n  loading: false,\n  error: null,\n  pristine: true,\n  downloadProgress: null,\n  uploadProgress: null,\n};\n\nconst defaultQueryMultiple = {\n  ...defaultQuery,\n  data: [],\n};\n\nconst defaultQueriesWithCustomData = new Map();\n\nconst getDefaultQuery = (defaultData, multiple) => {\n  if (\n    defaultData !== undefined &&\n    defaultQueriesWithCustomData.get(defaultData)\n  ) {\n    return defaultQueriesWithCustomData.get(defaultData);\n  }\n\n  if (defaultData !== undefined) {\n    const query = { ...defaultQuery, data: defaultData };\n    defaultQueriesWithCustomData.set(defaultData, query);\n    return query;\n  }\n\n  return multiple ? defaultQueryMultiple : defaultQuery;\n};\n\nconst querySelectors = new WeakMap();\n\nexport default (state, { type, requestKey, defaultData, multiple = false }) => {\n  const queryState = getQueryState(state, type, requestKey);\n\n  if (!queryState) {\n    return getDefaultQuery(defaultData, multiple);\n  }\n\n  if (!querySelectors.get(queryState.ref)) {\n    querySelectors.set(queryState.ref, createQuerySelector(type, requestKey));\n  }\n\n  return querySelectors.get(queryState.ref)(state, defaultData, multiple);\n};\n","import deepmerge from 'deepmerge';\n\nconst mergeOptions = {\n  arrayMerge: (destinationArray, sourceArray) => sourceArray,\n  clone: false,\n};\n\nexport const mergeData = (oldData, newData) =>\n  deepmerge(oldData, newData, mergeOptions);\n","import defaultConfig from '../default-config';\n\nimport { mergeData } from './merge-data';\n\nconst stipFromDeps = (data, config, root = true) => {\n  if (Array.isArray(data)) {\n    return data.map(v => stipFromDeps(v, config));\n  }\n\n  if (data !== null && typeof data === 'object') {\n    if (config.shouldObjectBeNormalized(data) && root) {\n      return `@@${config.getNormalisationObjectKey(data)}`;\n    }\n\n    return Object.entries(data).reduce((prev, [k, v]) => {\n      prev[k] = stipFromDeps(v, config);\n      return prev;\n    }, {});\n  }\n\n  return data;\n};\n\nexport const getDependencies = (\n  data,\n  config = defaultConfig,\n  usedKeys,\n  path = '',\n) => {\n  usedKeys = usedKeys || {};\n\n  if (Array.isArray(data)) {\n    return [\n      data.reduce(\n        (prev, current) => [\n          ...prev,\n          ...getDependencies(current, config, usedKeys, path)[0],\n        ],\n        [],\n      ),\n      usedKeys,\n    ];\n  }\n\n  if (data !== null && typeof data === 'object') {\n    if (config.shouldObjectBeNormalized(data)) {\n      usedKeys[path] = Object.keys(data);\n    }\n\n    return [\n      Object.entries(data).reduce(\n        (prev, [k, v]) => [\n          ...prev,\n          ...getDependencies(v, config, usedKeys, `${path}.${k}`)[0],\n        ],\n        config.shouldObjectBeNormalized(data) ? [data] : [],\n      ),\n      usedKeys,\n    ];\n  }\n\n  return [[], usedKeys];\n};\n\nexport const normalize = (data, config = defaultConfig) => {\n  const [dependencies, usedKeys] = getDependencies(data, config);\n\n  return [\n    stipFromDeps(data, config, true),\n    dependencies.reduce((prev, v) => {\n      const key = config.getNormalisationObjectKey(v);\n      prev[`@@${key}`] = prev[`@@${key}`]\n        ? mergeData(prev[`@@${key}`], stipFromDeps(v, config, false))\n        : stipFromDeps(v, config, false);\n      return prev;\n    }, {}),\n    usedKeys,\n  ];\n};\n","import { isSuccessAction, isResponseAction } from '../actions';\n\nconst getDataUpdater = mutationConfig => {\n  if (typeof mutationConfig === 'function') {\n    return mutationConfig;\n  } else if (mutationConfig.updateData) {\n    return mutationConfig.updateData;\n  }\n\n  return null;\n};\n\nexport default (data, action, mutationConfig) => {\n  if (isResponseAction(action)) {\n    if (isSuccessAction(action)) {\n      const dataUpdater = getDataUpdater(mutationConfig);\n\n      return dataUpdater\n        ? dataUpdater(\n            data,\n            action.payload ? action.payload.data : action.response.data,\n          )\n        : data;\n    }\n\n    // error or abort case\n    return mutationConfig.revertData ? mutationConfig.revertData(data) : data;\n  }\n\n  if (mutationConfig.updateDataOptimistic) {\n    return mutationConfig.updateDataOptimistic(data);\n  }\n\n  if (mutationConfig.local) {\n    return getDataUpdater(mutationConfig)(data);\n  }\n\n  return data;\n};\n","import defaultConfig from '../default-config';\nimport {\n  success,\n  error,\n  abort,\n  isResponseAction,\n  getRequestActionFromResponse,\n  isErrorAction,\n  isSuccessAction,\n} from '../actions';\nimport { getQuery } from '../selectors';\nimport { normalize, mergeData } from '../normalizers';\n\nimport updateData from './update-data';\n\nconst getInitialQuery = normalized => ({\n  data: null,\n  pending: 0,\n  error: null,\n  pristine: true,\n  ref: {},\n  normalized,\n  usedKeys: normalized ? {} : null,\n});\n\nconst getDataFromResponseAction = action =>\n  action.payload ? action.payload.data : action.response.data;\n\nconst shouldBeNormalized = (action, config) =>\n  action.meta?.normalize !== undefined\n    ? action.meta.normalize\n    : config.normalize;\n\nconst queryReducer = (state, action, actionType, config, normalizedData) => {\n  if (state === undefined) {\n    state = getInitialQuery(shouldBeNormalized(action, config));\n  }\n\n  if (action.meta?.mutations?.[actionType]) {\n    const mutationConfig = action.meta.mutations[actionType];\n    const data = updateData(\n      state.normalized\n        ? getQuery(\n            {\n              requests: {\n                normalizedData,\n                queries: { [actionType]: state },\n                downloadProgress: {},\n                uploadProgress: {},\n              },\n            },\n            { type: actionType },\n          ).data\n        : state.data,\n      action,\n      mutationConfig,\n    );\n    return data === state.data ? state : { ...state, data };\n  }\n\n  switch (action.type) {\n    case success(actionType):\n      return action.meta?.ssrResponse || action.meta?.cacheResponse\n        ? state\n        : {\n            ...state,\n            data: getDataFromResponseAction(action),\n            pending: state.pending - 1,\n            error: null,\n          };\n\n    case error(actionType):\n      return action.meta?.ssrError\n        ? state\n        : {\n            ...state,\n            data: null,\n            pending: state.pending - 1,\n            error: action.payload ? action.payload : action.error,\n          };\n    case abort(actionType):\n      return {\n        ...state,\n        pending: state.pending - 1,\n      };\n    default:\n      return action.meta?.ssrResponse ||\n        action.meta?.ssrError ||\n        action.meta?.cacheResponse\n        ? state\n        : {\n            ...state,\n            pending: state.pending + 1,\n            error: null,\n            pristine: false,\n          };\n  }\n};\n\nconst maybeGetQueryActionType = (action, config) => {\n  if (config.isRequestAction(action) && config.isRequestActionQuery(action)) {\n    return action.type;\n  }\n\n  if (\n    isResponseAction(action) &&\n    config.isRequestActionQuery(getRequestActionFromResponse(action))\n  ) {\n    return getRequestActionFromResponse(action).type;\n  }\n\n  return null;\n};\n\nconst updateNormalizedData = (normalizedData, action, config) => {\n  if (config.isRequestAction(action) && action.meta?.optimisticData) {\n    const [, newNormalizedData] = normalize(action.meta.optimisticData, config);\n    return mergeData(normalizedData, newNormalizedData);\n  }\n\n  if (\n    isResponseAction(action) &&\n    isErrorAction(action) &&\n    action.meta.revertedData\n  ) {\n    const [, newNormalizedData] = normalize(action.meta.revertedData, config);\n    return mergeData(normalizedData, newNormalizedData);\n  }\n\n  if (\n    isResponseAction(action) &&\n    isSuccessAction(action) &&\n    shouldBeNormalized(action, config) &&\n    !config.isRequestActionQuery(getRequestActionFromResponse(action))\n  ) {\n    const [, newNormalizedData] = normalize(\n      getDataFromResponseAction(action),\n      config,\n    );\n    return mergeData(normalizedData, newNormalizedData);\n  }\n\n  if (action.meta?.localData) {\n    const [, newNormalizedData] = normalize(action.meta.localData, config);\n    return mergeData(normalizedData, newNormalizedData);\n  }\n\n  return normalizedData;\n};\n\nexport default (state, action, config = defaultConfig) => {\n  let normalizedData = updateNormalizedData(\n    state.normalizedData,\n    action,\n    config,\n  );\n\n  if (action.meta?.mutations) {\n    return {\n      queries: {\n        ...state.queries,\n        ...Object.keys(action.meta.mutations)\n          .filter(actionType => !!state.queries[actionType])\n          .reduce((prev, actionType) => {\n            const updatedQuery = queryReducer(\n              state.queries[actionType],\n              action,\n              actionType,\n              config,\n              normalizedData,\n            );\n\n            if (\n              updatedQuery.normalized &&\n              updatedQuery.data !== state.queries[actionType].data\n            ) {\n              const [newdata, newNormalizedData, usedKeys] = normalize(\n                updatedQuery.data,\n                config,\n              );\n              normalizedData = mergeData(normalizedData, newNormalizedData);\n              prev[actionType] = { ...updatedQuery, data: newdata, usedKeys };\n            } else {\n              prev[actionType] = updatedQuery;\n            }\n            return prev;\n          }, {}),\n      },\n      normalizedData,\n    };\n  }\n\n  const queryActionType = maybeGetQueryActionType(action, config);\n\n  if (queryActionType) {\n    const queryType =\n      action.meta?.requestKey !== undefined\n        ? queryActionType + action.meta.requestKey\n        : queryActionType;\n    const updatedQuery = queryReducer(\n      state.queries[queryType],\n      action,\n      queryActionType,\n      config,\n    );\n\n    if (\n      updatedQuery.normalized &&\n      updatedQuery.data &&\n      (!state.queries[queryType] ||\n        state.queries[queryType].data !== updatedQuery.data)\n    ) {\n      const [data, newNormalizedData, usedKeys] = normalize(\n        updatedQuery.data,\n        config,\n      );\n\n      return {\n        queries: {\n          ...state.queries,\n          [queryType]: { ...updatedQuery, data, usedKeys },\n        },\n        normalizedData: mergeData(normalizedData, newNormalizedData),\n      };\n    }\n\n    return {\n      queries: {\n        ...state.queries,\n        [queryType]: updatedQuery,\n      },\n      normalizedData,\n    };\n  }\n\n  return state.normalizedData === normalizedData\n    ? state\n    : {\n        ...state,\n        normalizedData,\n      };\n};\n","import { CLEAR_REQUESTS_CACHE } from '../constants';\nimport { isSuccessAction, getRequestActionFromResponse } from '../actions';\n\nconst getNewCacheTimeout = cache =>\n  cache === true ? null : cache * 1000 + Date.now();\n\nconst getRequestKey = action => action.type + (action.meta.requestKey || '');\n\nconst getRequestTypeString = requestType =>\n  typeof requestType === 'function' ? requestType.toString() : requestType;\n\nconst getRequestKeys = requests =>\n  requests.map(v =>\n    typeof v === 'object'\n      ? getRequestTypeString(v.requestType) + v.requestKey\n      : getRequestTypeString(v),\n  );\n\nexport default (state, action) => {\n  if (action.type === CLEAR_REQUESTS_CACHE) {\n    if (!action.requests) {\n      return {};\n    }\n\n    state = { ...state };\n    getRequestKeys(action.requests).forEach(requestKey => {\n      delete state[requestKey];\n    });\n\n    return state;\n  }\n\n  if (\n    isSuccessAction(action) &&\n    action.meta.cache &&\n    !action.meta.cacheResponse &&\n    !action.meta.ssrResponse\n  ) {\n    const requestAction = getRequestActionFromResponse(action);\n\n    return {\n      ...state,\n      [getRequestKey(requestAction)]: {\n        timeout: getNewCacheTimeout(action.meta.cache),\n        cacheKey: action.meta.cacheKey,\n      },\n    };\n  }\n\n  return state;\n};\n","import { RESET_REQUESTS } from '../constants';\n\nconst getRequestTypeString = requestType =>\n  typeof requestType === 'function' ? requestType.toString() : requestType;\n\nconst getKeys = requests =>\n  requests.map(v =>\n    typeof v === 'object'\n      ? getRequestTypeString(v.requestType) + v.requestKey\n      : getRequestTypeString(v),\n  );\n\nconst resetQuery = query => ({\n  ...query,\n  data: null,\n  error: null,\n  pristine: true,\n  usedKeys: query.normalized ? {} : null,\n});\n\nconst resetMutation = mutation => ({\n  ...mutation,\n  error: null,\n});\n\n// TODO: this should be rewritten to more functional style, we need things like filter/map object helpers\nexport default (state, action) => {\n  if (action.type !== RESET_REQUESTS) {\n    return state;\n  }\n\n  let { queries, mutations, cache, downloadProgress, uploadProgress } = state;\n  const clearAll = !action.requests;\n  const keys = !clearAll && getKeys(action.requests);\n\n  queries = Object.entries(queries).reduce((prev, [k, v]) => {\n    if (clearAll || keys.includes(k)) {\n      prev[k] = resetQuery(v);\n    } else {\n      prev[k] = v;\n    }\n    return prev;\n  }, {});\n\n  mutations = Object.entries(mutations).reduce((prev, [k, v]) => {\n    if (clearAll || keys.includes(k)) {\n      prev[k] = resetMutation(v);\n    } else {\n      prev[k] = v;\n    }\n    return prev;\n  }, {});\n\n  cache = clearAll\n    ? {}\n    : Object.entries(cache).reduce((prev, [k, v]) => {\n        if (keys.includes(k)) {\n          return prev;\n        }\n\n        prev[k] = v;\n\n        return prev;\n      }, {});\n\n  downloadProgress = clearAll\n    ? {}\n    : Object.entries(downloadProgress).reduce((prev, [k, v]) => {\n        if (keys.includes(k)) {\n          return prev;\n        }\n\n        prev[k] = v;\n\n        return prev;\n      }, {});\n\n  uploadProgress = clearAll\n    ? {}\n    : Object.entries(uploadProgress).reduce((prev, [k, v]) => {\n        if (keys.includes(k)) {\n          return prev;\n        }\n\n        prev[k] = v;\n\n        return prev;\n      }, {});\n\n  return { queries, mutations, cache, downloadProgress, uploadProgress };\n};\n","import defaultConfig from '../default-config';\nimport { getRequestActionFromResponse, isResponseAction } from '../actions';\n\nexport default (state = [], action, config = defaultConfig) => {\n  if (config.ssr === 'server' && isResponseAction(action)) {\n    return [...state, getRequestActionFromResponse(action).type];\n  }\n\n  if (\n    config.ssr === 'client' &&\n    config.isRequestAction(action) &&\n    (action.meta?.ssrResponse || action.meta?.ssrError)\n  ) {\n    const indexToRemove = state.findIndex(v => v === action.type);\n\n    if (indexToRemove >= 0) {\n      return state.filter((_, i) => i !== indexToRemove);\n    }\n  }\n\n  return state;\n};\n","import defaultConfig from '../default-config';\nimport { isResponseAction, getRequestActionFromResponse } from '../actions';\n\nimport queriesReducer from './queries-reducer';\nimport mutationsReducer from './mutations-reducer';\nimport requestKeysReducer from './requests-keys-reducer';\nimport cacheReducer from './cache-reducer';\nimport progressReducer from './progress-reducer';\nimport requestsResetReducer from './requests-reset-reducer';\nimport ssrReducer from './ssr-reducer';\n\nconst defaultState = {\n  queries: {},\n  mutations: {},\n  normalizedData: {},\n  cache: {},\n  downloadProgress: {},\n  uploadProgress: {},\n  requestsKeys: {},\n};\n\nexport default (config = defaultConfig) => (state = defaultState, action) => {\n  const { queries, normalizedData } = queriesReducer(\n    { queries: state.queries, normalizedData: state.normalizedData },\n    action,\n    config,\n  );\n\n  let { mutations } = state;\n\n  if (\n    (config.isRequestAction(action) && !config.isRequestActionQuery(action)) ||\n    (isResponseAction(action) &&\n      !config.isRequestActionQuery(getRequestActionFromResponse(action)))\n  ) {\n    mutations = mutationsReducer(mutations, action);\n  }\n\n  return {\n    ...requestKeysReducer(\n      {\n        ...requestsResetReducer(\n          {\n            queries,\n            mutations,\n            cache: cacheReducer(state.cache, action),\n            ...progressReducer(\n              {\n                downloadProgress: state.downloadProgress,\n                uploadProgress: state.uploadProgress,\n              },\n              action,\n              config,\n            ),\n          },\n          action,\n        ),\n        requestsKeys: state.requestsKeys,\n      },\n      action,\n      config,\n    ),\n    normalizedData,\n    ssr: config.ssr ? ssrReducer(state.ssr, action, config) : null,\n  };\n};\n","import {\n  isErrorAction,\n  isResponseAction,\n  getRequestActionFromResponse,\n} from '../actions';\n\nexport default (state, action) => {\n  if (!isResponseAction(action)) {\n    const mutationType =\n      action.type + (action.meta?.requestKey ? action.meta.requestKey : '');\n\n    return {\n      ...state,\n      [mutationType]: {\n        error: null,\n        pending: (state[mutationType] ? state[mutationType].pending : 0) + 1,\n        ref: state[mutationType] ? state[mutationType].ref : {},\n      },\n    };\n  }\n\n  const requestAction = getRequestActionFromResponse(action);\n  const mutationType =\n    requestAction.type +\n    (action.meta?.requestKey ? action.meta.requestKey : '');\n\n  if (isErrorAction(action)) {\n    return {\n      ...state,\n      [mutationType]: {\n        error: action.payload ? action.payload : action.error,\n        pending: state[mutationType].pending - 1,\n        ref: state[mutationType].ref,\n      },\n    };\n  }\n\n  // success or abort case\n  return {\n    ...state,\n    [mutationType]: {\n      error: null,\n      pending: state[mutationType].pending - 1,\n      ref: state[mutationType].ref,\n    },\n  };\n};\n","import defaultConfig from '../default-config';\n\n// TODO: this should be rewritten to more functional style, we need things like filter object helpers\nexport default (state, action, config = defaultConfig) => {\n  if (config.isRequestAction(action) && action.meta?.requestKey !== undefined) {\n    let { queries, mutations, cache, requestsKeys } = state;\n\n    if (!requestsKeys[action.type]) {\n      requestsKeys = {\n        ...requestsKeys,\n        [action.type]: [action.meta.requestKey],\n      };\n    } else {\n      requestsKeys = {\n        ...requestsKeys,\n        [action.type]: [\n          ...requestsKeys[action.type].filter(\n            k => k !== action.meta.requestKey,\n          ),\n          action.meta.requestKey,\n        ],\n      };\n    }\n\n    if (\n      action.meta.requestsCapacity &&\n      requestsKeys[action.type].length > action.meta.requestsCapacity\n    ) {\n      const isQuery = config.isRequestActionQuery(action);\n      const requestsStorage = isQuery ? queries : mutations;\n\n      const numberOfExceedingRequests =\n        requestsKeys[action.type].length - action.meta.requestsCapacity;\n\n      if (numberOfExceedingRequests > 0) {\n        const exceedingRequestsKeys = requestsKeys[action.type]\n          .slice(0, numberOfExceedingRequests)\n          .filter(k => {\n            const exceededRequest = requestsStorage[action.type + k];\n            return !exceededRequest || exceededRequest.pending === 0; // we dont want to remove pending requests\n          });\n\n        if (exceedingRequestsKeys.length > 0) {\n          requestsKeys = {\n            ...requestsKeys,\n            [action.type]: requestsKeys[action.type].filter(\n              k => !exceedingRequestsKeys.includes(k),\n            ),\n          };\n          const copiedStorage = { ...requestsStorage };\n\n          exceedingRequestsKeys.forEach(k => {\n            delete copiedStorage[action.type + k];\n          });\n\n          if (isQuery) {\n            queries = copiedStorage;\n\n            const copiedCache = { ...cache };\n\n            exceedingRequestsKeys.forEach(k => {\n              delete copiedCache[action.type + k];\n            });\n\n            cache = copiedCache;\n          } else {\n            mutations = copiedStorage;\n          }\n        }\n      }\n    }\n\n    return {\n      queries,\n      mutations,\n      cache,\n      requestsKeys,\n      downloadProgress: state.downloadProgress,\n      uploadProgress: state.uploadProgress,\n    };\n  }\n\n  return state;\n};\n","import { SET_DOWNLOAD_PROGRESS, SET_UPLOAD_PROGRESS } from '../constants';\n\nexport default (state, action, config) => {\n  if (action.type === SET_DOWNLOAD_PROGRESS) {\n    return {\n      ...state,\n      downloadProgress: {\n        ...state.downloadProgress,\n        [action.requestType]: action.progress,\n      },\n    };\n  }\n\n  if (action.type === SET_UPLOAD_PROGRESS) {\n    return {\n      ...state,\n      uploadProgress: {\n        ...state.uploadProgress,\n        [action.requestType]: action.progress,\n      },\n    };\n  }\n\n  if (config.isRequestAction(action) && action.meta?.measureDownloadProgress) {\n    return {\n      ...state,\n      downloadProgress: {\n        ...state.downloadProgress,\n        [action.type + (action.meta?.requestKey || '')]: 0,\n      },\n    };\n  }\n\n  if (config.isRequestAction(action) && action.meta?.measureUploadProgress) {\n    return {\n      ...state,\n      uploadProgress: {\n        ...state.uploadProgress,\n        [action.type + (action.meta?.requestKey || '')]: 0,\n      },\n    };\n  }\n\n  return state;\n};\n","import defaultConfig from '../default-config';\nimport { isResponseAction, isSuccessAction } from '../actions';\n\nexport default (requestsPromise, config = defaultConfig) => {\n  let index = 0;\n  const successActions = [];\n  const errorActions = [];\n\n  return () => next => action => {\n    if (config.isRequestAction(action)) {\n      index +=\n        action.meta?.dependentRequestsNumber !== undefined\n          ? action.meta.dependentRequestsNumber + 1\n          : 1;\n    } else if (isResponseAction(action)) {\n      action = next(action);\n\n      if (!isSuccessAction(action)) {\n        errorActions.push(action);\n        index -=\n          action.meta.dependentRequestsNumber !== undefined\n            ? action.meta.dependentRequestsNumber + 1\n            : 1;\n        index -= action.meta.isDependentRequest ? 1 : 0;\n      } else {\n        successActions.push(action);\n        index -= action.meta.isDependentRequest ? 2 : 1;\n      }\n\n      if (index === 0) {\n        if (errorActions.length > 0) {\n          requestsPromise.reject({ successActions, errorActions });\n        } else {\n          requestsPromise.resolve(successActions);\n        }\n      }\n\n      return action;\n    }\n\n    return next(action);\n  };\n};\n","import defaultConfig from '../default-config';\nimport { getQuery } from '../selectors';\n\nexport default (config = defaultConfig) => store => next => action => {\n  if (!config.isRequestAction(action)) {\n    return next(action);\n  }\n\n  const state = store.getState();\n  const actionsToIgnore = state.requests.ssr;\n\n  if (actionsToIgnore.findIndex(v => v === action.type) === -1) {\n    return next(action);\n  }\n\n  const query = getQuery(state, {\n    type: action.type,\n    requestKey: action.meta?.requestKey,\n  });\n\n  if (query.error) {\n    return next({\n      ...action,\n      meta: {\n        ...action.meta,\n        ssrError: query.error,\n      },\n    });\n  }\n\n  return next({\n    ...action,\n    meta: {\n      ...action.meta,\n      ssrResponse: { data: query.data },\n    },\n  });\n};\n","import defaultConfig from '../default-config';\nimport { getQuery } from '../selectors';\n\nconst isCacheValid = (cache, action) =>\n  cache.cacheKey === action.meta.cacheKey &&\n  (cache.timeout === null || Date.now() <= cache.timeout);\n\nconst getKey = action => action.type + (action.meta.requestKey || '');\n\nexport default (config = defaultConfig) => store => next => action => {\n  if (\n    config.isRequestAction(action) &&\n    action.meta?.cache &&\n    !action.meta.ssrResponse\n  ) {\n    const key = getKey(action);\n    const state = store.getState();\n    const cacheValue = state.requests.cache[key];\n\n    if (cacheValue !== undefined && isCacheValid(cacheValue, action)) {\n      const query = getQuery(state, {\n        type: action.type,\n        requestKey: action.meta?.requestKey,\n      });\n\n      return next({\n        ...action,\n        meta: {\n          ...action.meta,\n          cacheResponse: { data: query.data },\n        },\n      });\n    }\n  }\n\n  return next(action);\n};\n","export default store => {\n  return {\n    ...store,\n    dispatchRequest: store.dispatch,\n  };\n};\n","import {\n  getActionPayload,\n  createSuccessAction,\n  createErrorAction,\n  createAbortAction,\n  setDownloadProgress,\n  setUploadProgress,\n} from '../actions';\nimport { ABORT_REQUESTS, RESET_REQUESTS } from '../constants';\nimport { getQuery } from '../selectors';\n\nimport createRequestsStore from './create-requests-store';\n\nconst getRequestTypeString = requestType =>\n  typeof requestType === 'function' ? requestType.toString() : requestType;\n\nconst getKeys = requests =>\n  requests.map(v =>\n    typeof v === 'object'\n      ? getRequestTypeString(v.requestType) + v.requestKey\n      : getRequestTypeString(v),\n  );\n\nconst getDriver = (config, action) =>\n  action.meta?.driver\n    ? config.driver[action.meta.driver]\n    : config.driver.default || config.driver;\n\nconst getLastActionKey = action =>\n  action.type + (action.meta?.requestKey ? action.meta.requestKey : '');\n\nconst isActionRehydrated = action =>\n  !!(\n    action.meta?.cacheResponse ||\n    action.meta?.ssrResponse ||\n    action.meta?.ssrError\n  );\n\n// TODO: remove to more functional style, we need object maps and filters\nconst abortPendingRequests = (action, pendingRequests) => {\n  const payload = getActionPayload(action);\n  const clearAll = !payload.requests;\n  const keys = !clearAll && getKeys(payload.requests);\n\n  if (!payload.requests) {\n    Object.values(pendingRequests).forEach(requests =>\n      requests.forEach(r => r.cancel()),\n    );\n  } else {\n    Object.entries(pendingRequests)\n      .filter(([k]) => keys.includes(k))\n      .forEach(([, requests]) => requests.forEach(r => r.cancel()));\n  }\n};\n\nconst isTakeLatest = (action, config) =>\n  action.meta?.takeLatest !== undefined\n    ? action.meta.takeLatest\n    : typeof config.takeLatest === 'function'\n    ? config.takeLatest(action)\n    : config.takeLatest;\n\nconst maybeCallOnRequestInterceptor = (action, config, store) => {\n  const payload = getActionPayload(action);\n\n  if (\n    config.onRequest &&\n    (!action.meta || action.meta.runOnRequest !== false)\n  ) {\n    if (action.request) {\n      return {\n        ...action,\n        request: config.onRequest(payload.request, action, store),\n      };\n    }\n\n    return {\n      ...action,\n      payload: {\n        ...action.payload,\n        request: config.onRequest(payload.request, action, store),\n      },\n    };\n  }\n\n  return action;\n};\n\nconst maybeCallOnRequestMeta = (action, store) => {\n  const payload = getActionPayload(action);\n\n  if (action.meta?.onRequest) {\n    if (action.request) {\n      return {\n        ...action,\n        request: action.meta.onRequest(payload.request, action, store),\n      };\n    }\n\n    return {\n      ...action,\n      payload: {\n        ...action.payload,\n        request: action.meta.onRequest(payload.request, action, store),\n      },\n    };\n  }\n\n  return action;\n};\n\nconst maybeDispatchRequestAction = (action, next) => {\n  if (!action.meta || !action.meta.silent) {\n    action = next(action);\n  }\n\n  return action;\n};\n\nconst getDriverActions = (action, store) => {\n  const driverActions = {};\n\n  if (action.meta?.measureDownloadProgress) {\n    driverActions.setDownloadProgress = progress =>\n      store.dispatch(\n        setDownloadProgress(\n          action.type + (action.meta?.requestKey || ''),\n          progress,\n        ),\n      );\n  }\n\n  if (action.meta?.measureUploadProgress) {\n    driverActions.setUploadProgress = progress =>\n      store.dispatch(\n        setUploadProgress(\n          action.type + (action.meta?.requestKey || ''),\n          progress,\n        ),\n      );\n  }\n\n  return driverActions;\n};\n\nconst getResponsePromises = (action, config, pendingRequests, store) => {\n  const actionPayload = getActionPayload(action);\n  const isBatchedRequest = Array.isArray(actionPayload.request);\n\n  if (action.meta?.cacheResponse) {\n    return [Promise.resolve(action.meta.cacheResponse)];\n  } else if (action.meta?.ssrResponse) {\n    return [Promise.resolve(action.meta.ssrResponse)];\n  } else if (action.meta?.ssrError) {\n    return [Promise.reject(action.meta.ssrError)];\n  }\n\n  const driverActions = isBatchedRequest ? {} : getDriverActions(action, store);\n  const driver = getDriver(config, action);\n  const lastActionKey = getLastActionKey(action);\n  const takeLatest = isTakeLatest(action, config);\n\n  if (takeLatest && pendingRequests[lastActionKey]) {\n    pendingRequests[lastActionKey].forEach(r => r.cancel());\n  }\n\n  const responsePromises = isBatchedRequest\n    ? actionPayload.request.map(r => driver(r, action, driverActions))\n    : [driver(actionPayload.request, action, driverActions)];\n\n  if (responsePromises[0].cancel) {\n    pendingRequests[lastActionKey] = responsePromises;\n  }\n\n  return responsePromises;\n};\n\nconst maybeCallGetError = (action, error) => {\n  if (\n    error !== 'REQUEST_ABORTED' &&\n    !isActionRehydrated(action) &&\n    action.meta?.getError\n  ) {\n    throw action.meta.getError(error);\n  }\n\n  throw error;\n};\n\nconst maybeCallOnErrorInterceptor = (action, config, store, error) => {\n  if (\n    error !== 'REQUEST_ABORTED' &&\n    config.onError &&\n    (!action.meta || action.meta.runOnError !== false)\n  ) {\n    return Promise.all([config.onError(error, action, store)]);\n  }\n\n  throw error;\n};\n\nconst maybeCallOnErrorMeta = (action, store, error) => {\n  if (error !== 'REQUEST_ABORTED' && action.meta?.onError) {\n    return Promise.all([action.meta.onError(error, action, store)]);\n  }\n\n  throw error;\n};\n\nconst maybeCallOnAbortInterceptor = (action, config, store, error) => {\n  if (\n    error === 'REQUEST_ABORTED' &&\n    config.onAbort &&\n    (!action.meta || action.meta.runOnAbort !== false)\n  ) {\n    config.onAbort(action, store);\n  }\n\n  throw error;\n};\n\nconst maybeCallOnAbortMeta = (action, store, error) => {\n  if (error === 'REQUEST_ABORTED' && action.meta?.onAbort) {\n    action.meta.onAbort(action, store);\n  }\n\n  throw error;\n};\n\nconst getInitialBatchObject = responseKeys =>\n  responseKeys.reduce((prev, key) => {\n    prev[key] = [];\n    return prev;\n  }, {});\n\nconst maybeTransformBatchRequestResponse = (action, response) => {\n  const actionPayload = getActionPayload(action);\n  const isBatchedRequest = Array.isArray(actionPayload.request);\n  const responseKeys = Object.keys(response[0]);\n\n  return isBatchedRequest && !isActionRehydrated(action)\n    ? response.reduce((prev, current) => {\n        responseKeys.forEach(key => {\n          prev[key].push(current[key]);\n        });\n        return prev;\n      }, getInitialBatchObject(responseKeys))\n    : response[0];\n};\n\nconst maybeCallGetData = (action, store, response) => {\n  if (!isActionRehydrated(action) && action.meta?.getData) {\n    const query = getQuery(store.getState(), {\n      type: action.type,\n      requestKey: action.meta?.requestKey,\n    });\n\n    return {\n      ...response,\n      data: action.meta.getData(response.data, query.data),\n    };\n  }\n\n  return response;\n};\n\nconst maybeCallOnSuccessInterceptor = (action, config, store, response) => {\n  if (\n    config.onSuccess &&\n    (!action.meta || action.meta.runOnSuccess !== false)\n  ) {\n    const result = config.onSuccess(response, action, store);\n\n    if (!isActionRehydrated(action)) {\n      return result;\n    }\n  }\n\n  return response;\n};\n\nconst maybeCallOnSuccessMeta = (action, store, response) => {\n  if (action.meta?.onSuccess) {\n    const result = action.meta.onSuccess(response, action, store);\n\n    if (!isActionRehydrated(action)) {\n      return result;\n    }\n  }\n\n  return response;\n};\n\nconst createSendRequestMiddleware = config => {\n  // TODO: clear not pending promises sometimes\n  const pendingRequests = {};\n\n  return store => next => action => {\n    const payload = getActionPayload(action);\n    const requestsStore = createRequestsStore(store);\n\n    if (\n      action.type === ABORT_REQUESTS ||\n      (action.type === RESET_REQUESTS && payload.abortPending)\n    ) {\n      abortPendingRequests(action, pendingRequests);\n      return next(action);\n    }\n\n    if (config.isRequestAction(action)) {\n      action = maybeCallOnRequestInterceptor(action, config, requestsStore);\n      action = maybeCallOnRequestMeta(action, requestsStore);\n      action = maybeDispatchRequestAction(action, next);\n\n      const responsePromises = getResponsePromises(\n        action,\n        config,\n        pendingRequests,\n        store,\n      );\n\n      return Promise.all(responsePromises)\n        .catch(error => maybeCallGetError(action, error))\n        .catch(error =>\n          maybeCallOnErrorInterceptor(action, config, requestsStore, error),\n        )\n        .catch(error => maybeCallOnErrorMeta(action, requestsStore, error))\n        .catch(error =>\n          maybeCallOnAbortInterceptor(action, config, requestsStore, error),\n        )\n        .catch(error => maybeCallOnAbortMeta(action, requestsStore, error))\n        .catch(error => {\n          if (error === 'REQUEST_ABORTED') {\n            const abortAction = createAbortAction(action);\n\n            if (!action.meta || !action.meta.silent) {\n              store.dispatch(abortAction);\n            }\n\n            throw { action: abortAction, isAborted: true };\n          }\n\n          const errorAction = createErrorAction(action, error);\n\n          if (!action.meta || !action.meta.silent) {\n            store.dispatch(errorAction);\n          }\n\n          throw { action: errorAction, error };\n        })\n        .then(response => {\n          response = maybeTransformBatchRequestResponse(action, response);\n          return maybeCallGetData(action, store, response);\n        })\n        .then(response =>\n          maybeCallOnSuccessInterceptor(\n            action,\n            config,\n            requestsStore,\n            response,\n          ),\n        )\n        .then(response =>\n          maybeCallOnSuccessMeta(action, requestsStore, response),\n        )\n        .then(response => {\n          const successAction = createSuccessAction(action, response);\n\n          if (!action.meta || !action.meta.silent) {\n            store.dispatch(successAction);\n          }\n\n          return { action: successAction, ...response };\n        })\n        .catch(error => {\n          if (error && error.action) {\n            return error;\n          }\n\n          throw error;\n        });\n    }\n\n    return next(action);\n  };\n};\n\nexport default createSendRequestMiddleware;\n","import { requestsReducer } from './reducers';\nimport {\n  createRequestsCacheMiddleware,\n  createClientSsrMiddleware,\n  createServerSsrMiddleware,\n  createSendRequestsMiddleware,\n} from './middleware';\nimport defaultConfig from './default-config';\n\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\n\nconst handleRequests = userConfig => {\n  const config = { ...defaultConfig, ...userConfig };\n  const requestsPromise = config.ssr === 'server' ? defer() : null;\n\n  return {\n    requestsReducer: requestsReducer(config),\n    requestsMiddleware: [\n      config.ssr === 'server' &&\n        createServerSsrMiddleware(requestsPromise, config),\n      config.ssr === 'client' && createClientSsrMiddleware(config),\n      config.cache && createRequestsCacheMiddleware(config),\n      createSendRequestsMiddleware(config),\n    ].filter(Boolean),\n    requestsPromise,\n  };\n};\n\nexport default handleRequests;\n","import { createSelector } from 'reselect';\n\nconst defaultMutation = {\n  loading: false,\n  error: null,\n  downloadProgress: null,\n  uploadProgress: null,\n};\n\nconst getMutationState = (state, type, requestKey = '') =>\n  state.requests.mutations[type + requestKey];\n\nconst mutationSelectors = new WeakMap();\n\nconst createMutationSelector = (type, requestKey) =>\n  createSelector(\n    state => getMutationState(state, type, requestKey),\n    state => state.requests.downloadProgress[type + (requestKey || '')] ?? null,\n    state => state.requests.uploadProgress[type + (requestKey || '')] ?? null,\n    (mutationState, downloadProgress, uploadProgress) => ({\n      loading: mutationState.pending > 0,\n      error: mutationState.error,\n      downloadProgress,\n      uploadProgress,\n    }),\n  );\n\nexport default (state, { type, requestKey }) => {\n  const mutationState = getMutationState(state, type, requestKey);\n\n  if (!mutationState) {\n    return defaultMutation;\n  }\n\n  if (!mutationSelectors.get(mutationState.ref)) {\n    mutationSelectors.set(\n      mutationState.ref,\n      createMutationSelector(type, requestKey),\n    );\n  }\n\n  return mutationSelectors.get(mutationState.ref)(state);\n};\n","import getQuery from './get-query';\n\nexport default props => state => getQuery(state, props);\n","import getMutation from './get-mutation';\n\nexport default props => state => getMutation(state, props);\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__573__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(436);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}